!function(){function a(){$("#multilingualizer-loader").css(o(!1))}function b(){$("#multilingualizer-loader").css(o(!0))}function c(a){for(var b,c=[],d=document.createTreeWalker(a,NodeFilter.SHOW_ALL,null,!1);b=d.nextNode();)c.push(b);return c}function d(){j=l()||m()||j,i&&localStorage.setItem("lang",j),$("*").each(function(){h.test($(this).text().replace(/\n/g,""))&&-1==$(this).html().indexOf("<")&&$(this).text($(this).text().replace(/\n/g,""));var a=$("#"+$(this).attr("id"));a.length>0&&h.test(a.text().replace(/\n/g,""))&&-1==a.html().indexOf("<")&&a.text(a.text().replace(/\n/g,""))}),c(document).filter(function(a){return h.test(a.nodeValue)}).forEach(function(a,b){for(var c,d={};null!=(c=h.exec(a.nodeValue));)d[c[1]]=c[2];k.push({elm:$(a).parent()[0],dict:d})}),n()}var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,f=function(a){return a instanceof f?a:this instanceof f?void 0:new f(a)};e.multilingualizer=f;var g="en",h=/\[\[([a-z]{2})\]\]([^\[]+)/g,i=!("undefined"==typeof localStorage),j=(navigator.userLanguage||navigator.browserLanguage||navigator.language||g).substr(0,2),k=[],l=function(){var a=/lang=([a-z]{2})/g.exec(location.search);return a?a[1]:null},m=function(){return i?localStorage.getItem("lang"):void 0},n=function(){k.forEach(function(a){$(a.elm).html(a.dict[j])}),setTimeout(function(){a()},0)},o=function(a){return{opacity:a?1:0,"z-index":a?9999:-1}};$(document).ready(function(){d()}),f.setLang=function(a,c){c||b(),setTimeout(function(){j=a,i&&localStorage.setItem("lang",j),n()},0)},f.apply=function(a){a||b(),setTimeout(function(){d()},0)}}();